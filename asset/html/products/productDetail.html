<div ng-controller="ProductDetailCtrl">
  <div splash-screen show="welcomeScreen"></div>
  <div ng-if="showContent" class="{{ (previousPage == 'Home' || previousPage == 'Products' || previousPage == 'Fish' || previousPage == 'Chicken' || previousPage == 'Seafood' || previousPage == 'GoatMeat' || previousPage == 'Marinated' || previousPage == 'Kitchen' || previousPage == 'Eggs' || previousPage == 'Masale' || previousPage == 'HalalMeat') ? 'mt-6' : 'mt-4' }}">
    <nav class="navbar fixed-top-secondary-nav navbar-light bg-light shadow-sm" ng-if="(previousPage == 'Home' || previousPage == 'Products' || previousPage == 'Fish' || previousPage == 'Chicken' || previousPage == 'Seafood' || previousPage == 'GoatMeat' || previousPage == 'Marinated' || previousPage == 'Kitchen' || previousPage == 'Eggs' || previousPage == 'Masale'|| previousPage == 'HalalMeat' )"  >
      <ul class="list-inline mb-0">
        <li class="list-inline-item">
          <i class="fa fa-level-up  fa-flip-horizontal text-muted" aria-hidden="true"></i>
          <a class="text-decoration-none" href="#{{previousPagePath}}">{{previousPage}}</a> 
        </li>
        <li class="list-inline-item">
          <i class="fa fa-angle-right fa-lg" aria-hidden="true"></i>
        </li>
        <li class="list-inline-item">{{productName}}</li>
      </ul>
    </nav>
    <div class="container">
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-3 mt-4">
        <div ng-if="singleProduct.length !=0" class="col mt-5 px-3half py-2 mb-9" ng-repeat="product in singleProduct">
          <div class="card shadow h-100">
            <img src="{{product.gsx$imagepath.$t}}" class="card-img-top img-fluid" alt="...">
            <div class="card-body p-3">
              <div class="row">
                <div class="col-9">
                  <h6>{{product.gsx$productname.$t}}</h6>
                </div>
                <div class="col-3">
                  <span class="badge badge-light brand-color">{{product.gsx$discountpercentage.$t}} % OFF</span> 
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div ng-if="product.gsx$halal.$t == 'y'" class="float-left">
                    <ul class="list-inline text-center mb-0">
                      <li class="list-inline-item"><img src="asset/images/products/productfeature/halal.svg" style="height:30px;width:30px;"></li>
                      <li class="list-inline-item"><span class="text-success"><small>{{product.gsx$halaldescription.$t }}</small></span></li>
                    </ul>
                  </div>
                </div>
                <div class="col-7">
                  <div class="d-flex justify-content-between">
                    <div>
                      <p class="uom-font"><b>{{product.gsx$qty.$t}} {{product.gsx$uom.$t}}</b></p>
                    </div>
                    <div>
                      <span class="text-muted"><s>{{product.gsx$sellingprice.$t}}</s></span>   
                      <span class="price-font"><b> {{product.gsx$finalprice.$t}} &#8377</b></span>
                    </div>
                  </div>
                </div>
              </div>
              <p class="card-text text-muted text-justify"><small>{{product.gsx$description.$t }}</small></p>
              <div class="d-flex justify-content-between" ng-if=" product.gsx$note1.$t.length !=0 || product.gsx$note2.$t.length !=0 ||  product.gsx$note3.$t.length !=0 || product.gsx$note4.$t.length !=0">
                <div>
                  <ul class="list-inline">
                    <li class="list-inline-item" ng-if="product.gsx$note1.$t.length !=0">
                      <i class="fa fa-check-square-o text-muted" aria-hidden="true"></i> <small>{{product.gsx$note1.$t}}</small>
                    </li>
                    <li class="list-inline-item" ng-if="product.gsx$note2.$t.length !=0">
                      <i class="fa fa-check-square-o text-muted" aria-hidden="true"></i> <small>{{product.gsx$note2.$t}}</small>
                    </li>
                    <li class="list-inline-item" ng-if="product.gsx$note3.$t.length !=0">
                      <i class="fa fa-check-square-o text-muted" aria-hidden="true"></i> <small>{{product.gsx$note3.$t}}</small>
                    </li>
                    <li class="list-inline-item" ng-if="product.gsx$note4.$t.length !=0">
                      <i class="fa fa-check-square-o text-muted" aria-hidden="true"></i> <small>{{product.gsx$note4.$t}}</small>
                    </li>
                  </ul>
                </div>
              </div>
              <div class="d-flex justify-content-between">
                <div>
                  <ul class="list-unstyled text-center mb-0">
                    <li class="text-muted">
                      <i class="fa fa-cube" aria-hidden="true"></i> Packing
                    </li>
                    <li>
                      <small>{{product.gsx$packing.$t}}</small>
                    </li>
                  </ul>
                </div>
                <div>
                  <ul class="list-unstyled text-center mb-0">
                    <li class="text-muted">
                      <i class="fa fa-motorcycle " aria-hidden="true"></i> Delivery
                    </li>
                    <li>
                      <small>{{product.gsx$processingtime.$t}}</small>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="card-footer bg-light p-1 border-0">
              <div class="row">
                <div class="col-6 pr-0">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text">Qty</span>
                    </div>
                    <input type="number" class="form-control" ng-model="requiredQty" 
                      >
                    <div class="input-group-append">
                      <span class="input-group-text">{{product.gsx$uom.$t}}</span>
                    </div>
                  </div>
                </div>
                <div class="col-6">
                  <a 
                    href="https://wa.me/919425032877?text=Hello%20FreshMeatBucket,%0AI%20would%20like%20to%20purchase%0A{{product.gsx$productname.$t}}%0AQuantity:{{requiredQty}}%20{{product.gsx$uom.$t}}%20" class="btn btn-brand float-right"><i class="fa fa-whatsapp fa-lg" aria-hidden="true"></i> Order Now</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div ng-if="singleProduct.length ==0" class="col mt-4 px-3half py-2">
          <div class="card shadow border-danger h-100 mb-4">
            <div class="d-flex justify-content-around">
              <div>
                <img src="asset/images/products/noproduct.png" class="card-img-top mt-2" alt="..." style="height:100px;width:120px;">
              </div>
            </div>
            <h6 class="text-center mt-2">No Product Found !</h6>
            <div class="card-body p-3">
              <form  id="enquiryForm" name="enquiryForm" novalidate>
                <div class="form-group">
                  <label for="exampleFormControlSelect1">What Product You Want?</label>
                  <select ng-model="user.product" class="form-control" id="exampleFormControlSelect1"  ng-required="true">
                    <option selected>Choose...</option>
                    <option ng-repeat="product in tools">                {{product.gsx$productname.$t}}
                    </option>
                  </select>
                  <div  class="invalid-feedback" ng-show="enquiryForm.user.product.$error.required && enquiryForm.user.product.$dirty">
                    Product Selection Required
                  </div>
                </div>
                <div class="form-group">
                  <label for="exampleFormControlSelect1">Quantity</label>
                  <input type="text" ng-model="user.quantity" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp"
                    ng-required="true">    
                  <div  class="invalid-feedback" ng-show="enquiryForm.user.quantity.$error.required && enquiryForm.user.quantity.$dirty">
                    Quantity Required
                  </div>
                </div>
                <a 
                  href="https://wa.me/919425032877?text=Hello%20FreshMeatBucket,%0AI%20would%20like%20to%20purchase%0A{{user.product}}%0AQuantity:%20{{user.quantity}}%20kg."
                  role="button" class="btn btn-success float-right"
                  ng-class="{disabled:!enquiryForm.$valid}"
                  ><i class="fa fa-whatsapp" aria-hidden="true"></i> Send Enquiry</a>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>